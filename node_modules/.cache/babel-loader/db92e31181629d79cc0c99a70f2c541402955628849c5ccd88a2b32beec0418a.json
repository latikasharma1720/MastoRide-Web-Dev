{"ast":null,"code":"var _jsxFileName = \"/Users/tapasviniadapala/Desktop/Final backend/MastoRide-Web-Dev/Masto test/src/pages/ForgotPassword.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Navbar from \"../components/Navbar\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ForgotPassword() {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const onSubmit = async e => {\n    e.preventDefault();\n    setMsg(\"\");\n    setError(\"\");\n    const trimmed = email.trim();\n\n    // Simple validation\n    if (!/\\S+@\\S+\\.\\S+/.test(trimmed)) {\n      setError(\"Please enter a valid email address.\");\n      return;\n    }\n    if (!trimmed.endsWith(\"@pfw.edu\")) {\n      setError(\"Please use your @pfw.edu email.\");\n      return;\n    }\n    try {\n      setLoading(true);\n      const response = await fetch(\"http://localhost:5001/api/auth/forgot-password\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email: trimmed\n        })\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        setError(data.error || \"Something went wrong. Please try again.\");\n        return;\n      }\n\n      // For demo: log token to console (so you can manually test reset)\n      if (data.resetToken) {\n        console.log(\"Reset token for testing:\", data.resetToken);\n      }\n      setMsg(data.message || `If an account exists for ${trimmed}, a reset link has been created.`);\n      setEmail(\"\");\n    } catch (err) {\n      console.error(\"Forgot password request error:\", err);\n      setError(\"Cannot connect to server. Make sure backend is running.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"signup-pull-scene\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pull-vehicle\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/assets/images/ForgotPassword.png\",\n          alt: \"Forgot Password illustration\",\n          className: \"pull-vehicle-img\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"pull-form\",\n        children: [msg && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"success-message-banner\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"20\",\n            height: \"20\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M22 11.08V12a10 10 0 1 1-5.93-9.14\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n              points: \"22 4 12 14.01 9 11.01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), msg]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-text\",\n          style: {\n            marginBottom: \"0.75rem\"\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Reset Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"pull-sub\",\n          children: \"Enter your PFW email to receive a reset link.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"pull-form-inner\",\n          onSubmit: onSubmit,\n          autoComplete: \"off\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sg-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: \"PFW Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"email\",\n              type: \"email\",\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              placeholder: \"name@pfw.edu\",\n              required: true,\n              disabled: loading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"signup-cta\",\n            disabled: loading,\n            children: loading ? \"Sending...\" : \"Send reset link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"signup-login\",\n          children: [\"Remember your password? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            children: \"Back to login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(ForgotPassword, \"HL1qMfVr5eiH1HxgPhvUp9FrUas=\");\n_c = ForgotPassword;\nvar _c;\n$RefreshReg$(_c, \"ForgotPassword\");","map":{"version":3,"names":["React","useState","Link","Navbar","jsxDEV","_jsxDEV","Fragment","_Fragment","ForgotPassword","_s","email","setEmail","msg","setMsg","error","setError","loading","setLoading","onSubmit","e","preventDefault","trimmed","trim","test","endsWith","response","fetch","method","headers","body","JSON","stringify","data","json","ok","resetToken","console","log","message","err","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","alt","width","height","viewBox","fill","stroke","strokeWidth","d","points","style","marginBottom","autoComplete","htmlFor","id","type","value","onChange","target","placeholder","required","disabled","to","_c","$RefreshReg$"],"sources":["/Users/tapasviniadapala/Desktop/Final backend/MastoRide-Web-Dev/Masto test/src/pages/ForgotPassword.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Navbar from \"../components/Navbar\";\n\nexport default function ForgotPassword() {\n  const [email, setEmail] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    setMsg(\"\");\n    setError(\"\");\n\n    const trimmed = email.trim();\n\n    // Simple validation\n    if (!/\\S+@\\S+\\.\\S+/.test(trimmed)) {\n      setError(\"Please enter a valid email address.\");\n      return;\n    }\n    if (!trimmed.endsWith(\"@pfw.edu\")) {\n      setError(\"Please use your @pfw.edu email.\");\n      return;\n    }\n\n    try {\n      setLoading(true);\n\n      const response = await fetch(\n        \"http://localhost:5001/api/auth/forgot-password\",\n        {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ email: trimmed }),\n        }\n      );\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        setError(data.error || \"Something went wrong. Please try again.\");\n        return;\n      }\n\n      // For demo: log token to console (so you can manually test reset)\n      if (data.resetToken) {\n        console.log(\"Reset token for testing:\", data.resetToken);\n      }\n\n      setMsg(\n        data.message ||\n          `If an account exists for ${trimmed}, a reset link has been created.`\n      );\n      setEmail(\"\");\n    } catch (err) {\n      console.error(\"Forgot password request error:\", err);\n      setError(\"Cannot connect to server. Make sure backend is running.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <Navbar />\n\n      <main className=\"signup-pull-scene\">\n        {/* Illustration */}\n        <div className=\"pull-vehicle\">\n          <img\n            src=\"/assets/images/ForgotPassword.png\"\n            alt=\"Forgot Password illustration\"\n            className=\"pull-vehicle-img\"\n          />\n        </div>\n\n        {/* Form */}\n        <section className=\"pull-form\">\n          {/* Success Message */}\n          {msg && (\n            <div className=\"success-message-banner\">\n              <svg\n                width=\"20\"\n                height=\"20\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n              >\n                <path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"></path>\n                <polyline points=\"22 4 12 14.01 9 11.01\"></polyline>\n              </svg>\n              {msg}\n            </div>\n          )}\n\n          {/* Error Message */}\n          {error && (\n            <div className=\"error-text\" style={{ marginBottom: \"0.75rem\" }}>\n              {error}\n            </div>\n          )}\n\n          <h1>Reset Password</h1>\n          <p className=\"pull-sub\">\n            Enter your PFW email to receive a reset link.\n          </p>\n\n          <form\n            className=\"pull-form-inner\"\n            onSubmit={onSubmit}\n            autoComplete=\"off\"\n          >\n            <div className=\"sg-field\">\n              <label htmlFor=\"email\">PFW Email</label>\n              <input\n                id=\"email\"\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"name@pfw.edu\"\n                required\n                disabled={loading}\n              />\n            </div>\n\n            <button\n              type=\"submit\"\n              className=\"signup-cta\"\n              disabled={loading}\n            >\n              {loading ? \"Sending...\" : \"Send reset link\"}\n            </button>\n          </form>\n\n          <p className=\"signup-login\">\n            Remember your password? <Link to=\"/login\">Back to login</Link>\n          </p>\n        </section>\n      </main>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}